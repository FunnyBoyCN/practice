(function(e){function t(t){for(var a,r,c=t[0],s=t[1],u=t[2],l=0,d=[];l<c.length;l++)r=c[l],o[r]&&d.push(o[r][0]),o[r]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);h&&h(t);while(d.length)d.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,r=1;r<n.length;r++){var c=n[r];0!==o[c]&&(a=!1)}a&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var a={},r={app:0},o={app:0},i=[];function c(e){return s.p+"js/"+({about:"about"}[e]||e)+"."+{"chunk-001aca09":"e67fc5a7","chunk-0a7aa756":"8ec41cce","chunk-1ee7f0bf":"875c1c10","chunk-714449c8":"988f395b","chunk-ac834b5e":"53c0bf88","chunk-287a4cbf":"b32702a1","chunk-2d0e68e3":"438a6b5a","chunk-2f5b30a8":"55c141b4","chunk-3075fdd3":"b4c9638b","chunk-3f200245":"a9fb6e13","chunk-4f1d54b5":"b360b4fb","chunk-54808904":"a771a1a7","chunk-645440a2":"7126c4b7","chunk-6a05dc4c":"d1a35ee1","chunk-767d5c84":"2f38bcdb","chunk-7732f04b":"4e8935e6","chunk-00ce4773":"597a0812","chunk-3611a39d":"b129f41d",about:"4196719a","chunk-304074b6":"7b4a73d3","chunk-7ef82db6":"eb7f7298","chunk-811ad316":"37888258","chunk-f7133b78":"afbeb687"}[e]+".js"}function s(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n={"chunk-001aca09":1,"chunk-0a7aa756":1,"chunk-1ee7f0bf":1,"chunk-714449c8":1,"chunk-ac834b5e":1,"chunk-287a4cbf":1,"chunk-2f5b30a8":1,"chunk-3075fdd3":1,"chunk-3f200245":1,"chunk-4f1d54b5":1,"chunk-54808904":1,"chunk-645440a2":1,"chunk-6a05dc4c":1,"chunk-767d5c84":1,"chunk-7732f04b":1,"chunk-00ce4773":1,"chunk-3611a39d":1,about:1,"chunk-304074b6":1,"chunk-7ef82db6":1,"chunk-811ad316":1,"chunk-f7133b78":1};r[e]?t.push(r[e]):0!==r[e]&&n[e]&&t.push(r[e]=new Promise(function(t,n){for(var a="css/"+({about:"about"}[e]||e)+"."+{"chunk-001aca09":"28e36c5f","chunk-0a7aa756":"acbd85a0","chunk-1ee7f0bf":"6849d8ac","chunk-714449c8":"0039be61","chunk-ac834b5e":"f187cc7e","chunk-287a4cbf":"161c4881","chunk-2d0e68e3":"31d6cfe0","chunk-2f5b30a8":"269730c4","chunk-3075fdd3":"cbde2cf0","chunk-3f200245":"9c738945","chunk-4f1d54b5":"939f2cf4","chunk-54808904":"eff6730b","chunk-645440a2":"58f84c23","chunk-6a05dc4c":"1d709b30","chunk-767d5c84":"053832ac","chunk-7732f04b":"7b96ae26","chunk-00ce4773":"2f9aa2b2","chunk-3611a39d":"8d086e0a",about:"d3a05c1d","chunk-304074b6":"ea7652e9","chunk-7ef82db6":"447b41b9","chunk-811ad316":"28e36c5f","chunk-f7133b78":"d6935c82"}[e]+".css",o=s.p+a,i=document.getElementsByTagName("link"),c=0;c<i.length;c++){var u=i[c],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===a||l===o))return t()}var d=document.getElementsByTagName("style");for(c=0;c<d.length;c++){u=d[c],l=u.getAttribute("data-href");if(l===a||l===o)return t()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=t,h.onerror=function(t){var a=t&&t.target&&t.target.src||o,i=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=a,delete r[e],h.parentNode.removeChild(h),n(i)},h.href=o;var m=document.getElementsByTagName("head")[0];m.appendChild(h)}).then(function(){r[e]=0}));var a=o[e];if(0!==a)if(a)t.push(a[2]);else{var i=new Promise(function(t,n){a=o[e]=[t,n]});t.push(a[2]=i);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.src=c(e),u=function(t){l.onerror=l.onload=null,clearTimeout(d);var n=o[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src,i=new Error("Loading chunk "+e+" failed.\n("+a+": "+r+")");i.type=a,i.request=r,n[1](i)}o[e]=void 0}};var d=setTimeout(function(){u({type:"timeout",target:l})},12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},s.m=e,s.c=a,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(n,a,function(t){return e[t]}.bind(null,a));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/practice/fruitShop/dist/",s.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var h=l;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"2d08":function(e,t,n){"use strict";var a=n("8644"),r=n.n(a);r.a},"3a9b":function(e,t,n){},"3b4c":function(e,t,n){"use strict";var a=n("997e"),r=n.n(a);r.a},"3b7b":function(e,t,n){},"40d6":function(e,t,n){"use strict";var a=n("cc3b"),r=n.n(a);r.a},"41cb":function(e,t,n){"use strict";var a=n("2b0e"),r=n("8c4f"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home",style:{height:e.homeHeight+"px"}},[n("div",{ref:"top",staticClass:"top"},[n("fruit-title"),n("header",{staticClass:"header flex row paddingTB border"},[n("div",{staticClass:"slogan"},[e._v("59分钟送达")]),n("router-link",{staticClass:"lineAddress flex row marginLR",attrs:{to:"/nearbyShop",type:"div"}},[n("span",[e._v("附近门店:")]),n("div",{staticClass:"addressText"},[e._v(e._s(e.nearbyShop.name))]),n("van-icon",{attrs:{name:"play"}})],1),n("div",{staticClass:"rightControl flex row justCenter alignCenter"},[n("div",{staticClass:"search flex column justCenter alignCenter",on:{click:function(t){return t.stopPropagation(),e.toUrl("/search")}}},[n("van-icon",{attrs:{name:"search",size:"1.3rem"}}),n("span",[e._v("搜索")])],1),n("div",{staticClass:"memberCode flex column justCenter alignCenter",on:{click:function(t){return t.stopPropagation(),e.toUrl("/memberCode")}}},[n("van-icon",{attrs:{name:"card",size:"1.3rem"}}),n("span",[e._v("会员码")])],1)])],1)],1),n("main",{staticClass:"main"},[n("div",{ref:"leftNav",staticClass:"leftNav",style:"height:"+e.height+"px"},[n("div",{staticClass:"content"},[n("van-sidebar",{attrs:{"active-key":e.activeKey},on:{change:e.onChange}},[n("van-sidebar-item",{attrs:{title:"全部水果"},on:{click:function(t){e.activeKey=0}}}),e._l(e.mainGoods,function(e,t){return n("van-sidebar-item",{key:t,attrs:{title:e.name}})})],2),n("div",{staticStyle:{height:"15.733vw","background-color":"#F8F8F8"}})],1)]),n("div",{staticClass:"rightContent paddingTop",style:"height:"+e.height+"px"},[n("van-swipe",{staticClass:"swipe",attrs:{autoplay:3e3,"indicator-color":"gray"}},e._l(e.activity,function(t,a){return n("van-swipe-item",{key:a,on:{click:function(n){return n.preventDefault(),e.activityDetail(t._id)}}},[n("van-image",{attrs:{height:"26.66vw",width:"72vw",fit:"cover",src:t.headerImg,"data-url":t.headerImg},scopedSlots:e._u([{key:"loading",fn:function(){return[n("van-loading",{attrs:{type:"spinner",size:"20"}})]},proxy:!0},{key:"error",fn:function(){return[e._v("加载失败")]},proxy:!0}],null,!0)})],1)}),1),n("div",{staticClass:"goodsContent"},[n("good-item",{attrs:{goodsItem:e.goods}}),n("div",{staticClass:"goodsCover"})],1)],1)])])},i=[],c=(n("8e6e"),n("456d"),n("bd86")),s=(n("55dd"),n("c5f6"),n("7f7f"),n("96cf"),n("3b8d")),u=(n("ac6a"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.goodsItem,function(t,a){return n("div",{key:a,staticClass:"goodsItem paddingTB flex row alignCenter border padding",on:{click:function(n){return e.toDetail(t._id)}}},[n("div",{staticClass:"goodsImg"},[n("van-image",{attrs:{src:t.goodsImg[0],fit:"cover",height:"21.33vw",width:"21.33vw"}})],1),n("div",{staticClass:"goodsMs marginLeft flex column"},[n("div",{staticClass:"goodsMsTOP"},[n("div",{staticClass:"goodsName"},[e._v(e._s(t.name))]),n("div",{staticClass:"goodsDS flex row marginFontTop  alignCenter"},[n("div",{staticClass:"goodsSpec FontMini gray"},[e._v(e._s(t.spec))]),t.reserve<5&&0!==t.reserve?n("span",{staticClass:"goodsReserve error FontNano"},[e._v("仅剩"+e._s(t.reserve)+"件")]):e._e()])]),n("div",{staticClass:"goodsMsBottom flex row alignCenter spaceBetween"},[n("div",{staticClass:"goodsPrice flex row alignCenter"},[n("div",{staticClass:"realPrice orange FontNormal"},[e._v("￥"+e._s(t.realPrice))]),n("del",{staticClass:"price FontMini marginFontLeft"},[e._v("￥"+e._s(t.price))])]),n("control",{attrs:{item:t}})],1)])])}),0)}),l=[],d=n("cbe3"),h=n("44bf");a["a"].use(h["a"]);var m={methods:{toDetail:function(e){this.$router.push({path:"/goodsDetail",query:{id:e}})}},props:["goodsItem"],components:{control:d["a"]}},f=m,p=(n("2d08"),n("2877")),g=Object(p["a"])(f,u,l,!1,null,"439de634",null),b=g.exports,v=n("6968"),y=n("2f62"),C=n("229e"),k=n("7c15"),w=n("bc3a"),S=n.n(w),O=n("1d36"),P=n("241ec"),_=n("d961"),N=n("ad06"),x=n("543e"),j=n("d399"),L=n("b650"),T=n("5596"),I=n("2bb1");function D(e){for(var t=1;t<arguments.length;t++)if(t%2){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){Object(c["a"])(e,t,n[t])})}else Object.defineProperties(e,Object.getOwnPropertyDescriptors(arguments[t]));return e}a["a"].use(O["a"]).use(P["a"]).use(_["a"]).use(N["a"]).use(h["a"]).use(x["a"]).use(j["a"]).use(L["a"]).use(T["a"]).use(I["a"]);var M={data:function(){return{activeKey:0,mainGoods:[],height:0,goods:[],goodsNum:0,homeHeight:0,toast:"",activity:[]}},methods:{onChange:function(e){var t=this;this.goods=[],this.activeKey=e,0==this.activeKey?this.mainGoods.forEach(function(e){0!==e.goodsItem.length&&e.goodsItem.forEach(function(e){t.goods.push(e)})}):this.mainGoods[this.activeKey-1].goodsItem.forEach(function(e){t.goods.push(e)})},init:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",k["a"].get("/mainGoods"));case 1:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}(),activityDetail:function(e){this.$router.push({path:"/activityDetail",query:{id:e}})},toUrl:function(e){this.$router.push(e)},activityInit:function(){return k["a"].get("/events")},shopInit:function(){var e=this;k["a"].get("/Shop").then(function(t){var n=t.result;return n.forEach(function(t){t.position=e.cityLocationTrans(t.address,t.city)}),e.myLocation(n)}).then(function(t){return e.reloadPosition(t)}).then(function(t){var n={name:t.name,id:t._id,address:t.address,opening:t.opening};e.$store.dispatch("nearbyShop/ChangeNearbyShop",n)})},myLocation:function(e){this.toast=j["a"].loading({mask:!1,message:"定位中...",duration:0});var t=this,n=new BMap.Geolocation;return new Promise(function(a){n.getCurrentPosition(function(n){var r={lat:0,lng:0};if(this.getStatus()==BMAP_STATUS_SUCCESS)r.lat=n.point.lat,r.lng=n.point.lng,t.toast=j["a"].success("定位成功"),a({shopList:e,position:r});else{var o=function(n){r.lat=n.center.lat,r.lng=n.center.lng,t.toast=j["a"].fail("无法获取您当前的精确位置"),a({shopList:e,position:r})},i=new BMap.LocalCity;i.get(o)}},{enableHighAccuracy:!0})})},cityLocationTrans:function(e,t){var n=new BMap.Geocoder,a={lng:0,lat:0};return n.getPoint(e,function(e){e&&(a.lng=e.lng,a.lat=e.lat)},t),a},calcDistance:function(e,t){try{var n=new BMap.Point(t.lng,t.lat),a=new BMap.Point(e.lng,e.lat),r=new BMap.Map;return(r.getDistance(a,n)/1e3).toFixed(2)}catch(o){console.log(o)}},reloadPosition:function(e){var t=this;return new Promise(function(n){for(var a=e.position,r=e.shopList,o=0;o<r.length;o++){var i=t.calcDistance(a,r[o].position);r[o].distance=Number(i)}r.sort(function(e,t){return e.distance-t.distance}),n(r[0])})}},components:{goodItem:b,fruitTitle:v["a"]},computed:D({},Object(y["b"])("nearbyShop",["nearbyShop"])),mounted:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(){var t,n,a=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:""==this.nearbyShop.id&&this.shopInit(),t=this.activityInit(),n=this.init(),S.a.all([t,n]).then(S.a.spread(function(e,t){a.mainGoods=t,a.mainGoods.forEach(function(e){0!==e.goodsItem.length&&e.goodsItem.forEach(function(e){a.goods.push(e)})}),a.activity=e.result})).catch(function(e){j["a"].fail("加载失败")}).finally(function(){try{var e=a.$refs.top;a.homeHeight=document.documentElement.clientHeight,a.height=document.documentElement.clientHeight-e.clientHeight-50,a.$nextTick(function(){a.bs?a.bs.refresh():a.bs=[new C["a"](a.$refs.leftNav,{scrollY:!0,click:!0,tap:!0,probeType:3})]})}catch(t){console.log(t)}});case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},E=M,F=(n("79db"),Object(p["a"])(E,o,i,!1,null,"56f6335b",null)),H=F.exports,R=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("fruit-title",{staticClass:"title"}),n("header",{staticClass:"header border paddingLR  flex row "},[n("router-link",{staticClass:"shopAddress flex row alignCenter spaceBetween paddingLR",attrs:{to:"/nearbyShop"}},[n("span",[e._v("提货门店:  "+e._s(e.nearbyShop.name))]),n("van-icon",{attrs:{name:"arrow",size:"3.5vw"}})],1),n("div",{staticClass:"search flex column alignCenter justCenter",on:{click:function(t){return t.stopPropagation(),e.$router.push("/search")}}},[n("van-icon",{attrs:{name:"search",size:"1.3rem"}}),n("span",[e._v("搜索")])],1)],1),n("main",{ref:"collage",staticClass:"main paddingLR",style:{height:e.height+"px"}},[n("div",{staticClass:"collage"},e._l(e.collage,function(t,a){return n("div",{key:a,staticClass:"item  flex column",on:{click:function(n){return n.stopPropagation(),e.collageDetail(t._id)}}},[n("div",{staticClass:"itemTop"},[n("div",{staticClass:"bg flex row flexEnd alignCenter"},[n("van-image",{attrs:{src:t.goodsContent.goodsImg[0],width:"120",height:"120"}}),n("div",{staticClass:"content paddingLR flex column "},[n("span",{staticStyle:{"font-size":"14px",color:"white"}},[e._v(e._s(t.goodsContent.name))]),n("span",{staticStyle:{"font-size":"12px",color:"white"}},[e._v(e._s(t.goodsContent.desc))]),n("span",{staticClass:"mode"},[e._v(e._s(t.mode)+"人成团，每人限购一次")]),n("div",{staticClass:"price"},[n("span",{staticClass:"big",staticStyle:{"font-size":"26px"}},[e._v(e._s(e.PriceTranForm(t.Price)[0]))]),n("span",{staticClass:"small",staticStyle:{"font-size":"10px"}},[e._v("."+e._s(e.PriceTranForm(t.Price)[1])+"元")]),n("span",{staticClass:"small",staticStyle:{"font-size":"10px"}},[e._v("/"+e._s(e.SpecTranForm(t.goodsContent.spec)[1]))])]),n("div",{staticStyle:{"font-size":"10px",color:"white"}},[e._v("零售价:"+e._s(t.goodsContent.realPrice)+"元/"+e._s(e.SpecTranForm(t.goodsContent.spec)[1]))]),n("div",{staticStyle:{"font-size":"10px",color:"slateblue"}},[e._v("备注：活动时间"+e._s(e.timeLimit(t.timeLimit[0]))+"-"+e._s(e.timeLimit(t.timeLimit[1]).split("年")[1]))])])],1),n("div",{staticClass:"collageMode "},[e._v("\n                        "+e._s(t.mode)+"人团\n                    ")])]),n("div",{staticClass:"itemBottom paddingXLR paddingFontTB flex column spaceBetween"},[n("div",[n("span",{staticClass:"collageName"},[e._v("\n                        "+e._s(t.goodsContent.name)+" "+e._s(t.goodsContent.desc)+"\n                    ")]),n("span",{staticClass:"goodsSpec marginTop",staticStyle:{display:"block"}},[e._v("\n                          "+e._s(t.goodsContent.spec)+"\n                    ")])]),n("div",{staticClass:"control paddingFontTB flex row spaceBetween"},[n("div",{staticClass:"left flex row spaceBetween alignEnd"},[n("div",{staticClass:"price"},[n("span",{staticClass:"big"},[e._v(e._s(e.PriceTranForm(t.Price)[0]))]),n("span",{staticClass:"small"},[e._v("."+e._s(e.PriceTranForm(t.Price)[1])+"元")])]),n("del",{staticClass:"oldPrice"},[e._v(e._s(t.goodsContent.realPrice)+"元")]),n("div",{staticClass:"collageGroups"},[e._v("已团"+e._s(t.groups)+"件")])]),n("div",{staticClass:"goCollage paddingLR paddingFontTB flex row alignCenter justCenter",on:{click:function(n){return n.stopPropagation(),e.collageDetail(t._id)}}},[n("span",[e._v("去拼团")]),n("van-icon",{attrs:{name:"arrow",size:"3vw"}})],1)])])])}),0)])],1)},$=[];n("6b54"),n("a481"),n("3b2b"),n("28a5");function B(e){for(var t=1;t<arguments.length;t++)if(t%2){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){Object(c["a"])(e,t,n[t])})}else Object.defineProperties(e,Object.getOwnPropertyDescriptors(arguments[t]));return e}a["a"].use(h["a"]).use(N["a"]);var q={data:function(){return{collage:[],price:"9.09元",height:0}},components:{fruitTitle:v["a"]},mounted:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,k["a"].get("/collages");case 2:this.collage=e.sent,this.height=document.documentElement.clientHeight,this.$nextTick(function(){t.bs2?t.bs2.refresh():t.bs2=[new C["a"](t.$refs.collage,{scrollY:!0,click:!0,bounceTime:500})]});case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),computed:B({PriceTranForm:function(){return function(e){return e.split(".")}},SpecTranForm:function(){return function(e){return e.split("/")}},timeLimit:function(){return function(e){var t=e.split("-");t[0]+="年",t[1]+="月",t[2]+="日";var n=new RegExp(/\,/g);return t.toString().replace(n,"")}}},Object(y["b"])("nearbyShop",["nearbyShop"])),methods:{collageDetail:function(e){this.$router.push({path:"/Collage/detail",query:{id:e}})}}},A=q,z=(n("3b4c"),Object(p["a"])(A,R,$,!1,null,"69b9426e",null)),J=z.exports;a["a"].use(r["a"]);var G=new r["a"]({mode:"history",base:"/practice/fruitShop/dist/",routes:[{path:"/",name:"Home",meta:{showCarts:!0},component:H},{path:"/activityDetail",name:"activityDetail",meta:{hiddenNav:!0},component:function(){return n.e("chunk-811ad316").then(n.bind(null,"2f97"))}},{name:"404",path:"/404",meta:{hiddenNav:!0},component:function(){return n.e("chunk-2f5b30a8").then(n.bind(null,"3c09"))}},{name:"search",path:"/search",meta:{hiddenNav:!0,showCarts:!0},children:[{path:"pendingSearch",name:"pendingSearch",component:function(){return n.e("chunk-7ef82db6").then(n.bind(null,"0688"))}},{path:"searchResult",name:"searchResult",component:function(){return n.e("chunk-f7133b78").then(n.bind(null,"d50d"))},meta:{showCarts:!0}}],component:function(){return n.e("chunk-54808904").then(n.bind(null,"c98d"))}},{path:"/Collage",name:"Collage",component:J},{path:"/Collage/detail",name:"CollageDetail",meta:{hiddenNav:!0,index:1},component:function(){return Promise.all([n.e("chunk-7732f04b"),n.e("chunk-3611a39d"),n.e("about")]).then(n.bind(null,"c3e1"))}},{path:"/Collage/checkout",name:"collageCheckout",meta:{hiddenNav:!0},component:function(){return Promise.all([n.e("chunk-7732f04b"),n.e("chunk-3611a39d"),n.e("about")]).then(n.bind(null,"6ffb"))}},{path:"/Collage/checkout/paySuccess",name:"paySuccess",meta:{hiddenNav:!0,requireLogin:!0},component:function(){return Promise.all([n.e("chunk-7732f04b"),n.e("chunk-3611a39d"),n.e("about")]).then(n.bind(null,"4679"))}},{path:"/Orders",name:"Orders",meta:{requireLogin:!0},children:[{path:"timelyOrder",name:"timelyOrder",component:function(){return Promise.all([n.e("chunk-1ee7f0bf"),n.e("chunk-ac834b5e")]).then(n.bind(null,"e6af"))},alias:"/Orders",meta:{requireLogin:!0}},{path:"collageOrder",name:"collageOrder",component:function(){return Promise.all([n.e("chunk-7732f04b"),n.e("chunk-3611a39d"),n.e("chunk-304074b6")]).then(n.bind(null,"5a3a"))},alias:"/Orders",meta:{requireLogin:!0}},{path:"shopOrder",name:"shopOrder",component:function(){return n.e("chunk-6a05dc4c").then(n.bind(null,"1203"))},alias:"/Orders",meta:{requireLogin:!0}}],component:function(){return Promise.all([n.e("chunk-7732f04b"),n.e("chunk-3611a39d"),n.e("about")]).then(n.bind(null,"0283"))}},{path:"/Orders/timelyOrder/detail",name:"timelyOrderDetail",component:function(){return Promise.all([n.e("chunk-1ee7f0bf"),n.e("chunk-714449c8")]).then(n.bind(null,"aa1b"))},meta:{requireLogin:!0,hiddenNav:!0}},{path:"/Orders/collageOrder/detail",name:"collageOrderDetail",component:function(){return Promise.all([n.e("chunk-7732f04b"),n.e("chunk-001aca09"),n.e("chunk-00ce4773")]).then(n.bind(null,"5951"))},meta:{requireLogin:!0,hiddenNav:!0}},{path:"/Login",name:"Login",alias:"/Member/Login",meta:{hiddenNav:!0},component:function(){return n.e("chunk-4f1d54b5").then(n.bind(null,"7399"))}},{path:"/Member",name:"Member",component:function(){return Promise.all([n.e("chunk-7732f04b"),n.e("chunk-3611a39d"),n.e("about")]).then(n.bind(null,"8859"))}},{path:"/ownInfo",name:"ownInfo",meta:{hiddenNav:!0,requireLogin:!0},component:function(){return Promise.all([n.e("chunk-7732f04b"),n.e("chunk-3611a39d"),n.e("about")]).then(n.bind(null,"194d"))}},{path:"/Member/singIn",name:"singIn",meta:{hiddenNav:!0,requireLogin:!0},component:function(){return Promise.all([n.e("chunk-7732f04b"),n.e("chunk-3611a39d"),n.e("about")]).then(n.bind(null,"7b9a"))}},{path:"/Member/setting",name:"setting",meta:{hiddenNav:!0},component:function(){return Promise.all([n.e("chunk-7732f04b"),n.e("chunk-3611a39d"),n.e("about")]).then(n.bind(null,"119b"))}},{path:"/editPassword",name:"editPassword",meta:{hiddenNav:!0,requireLogin:!0},component:function(){return n.e("chunk-3075fdd3").then(n.bind(null,"7a63"))}},{path:"/memberCode",name:"memberCode",meta:{requireLogin:!0,hiddenNav:!0},component:function(){return Promise.all([n.e("chunk-001aca09"),n.e("chunk-0a7aa756")]).then(n.bind(null,"6938"))}},{path:"/account",name:"account",meta:{requireLogin:!0,hiddenNav:!0,checkPayPassword:!0},component:function(){return n.e("chunk-3f200245").then(n.bind(null,"1591"))}},{path:"/account/balanceDetail",name:"balanceDetail",meta:{requireLogin:!0,hiddenNav:!0},component:function(){return n.e("chunk-287a4cbf").then(n.bind(null,"d6f4"))}},{path:"/editPayPassword",name:"editPayPassword",meta:{requireLogin:!0,hiddenNav:!0},component:function(){return n.e("chunk-645440a2").then(n.bind(null,"90dc"))}},{path:"/checkPayPassword",name:"checkPayPassword",meta:{requireLogin:!0,hiddenNav:!0},component:function(){return n.e("chunk-767d5c84").then(n.bind(null,"19b1"))}},{path:"/notLogin",name:"notLogin",hiddenNav:!0,component:function(){return n.e("chunk-2d0e68e3").then(n.bind(null,"98f4"))}},{path:"/goodsDetail",name:"goodsDetail",meta:{hiddenNav:!0,showCarts:!0},component:function(){return Promise.all([n.e("chunk-7732f04b"),n.e("chunk-3611a39d"),n.e("about")]).then(n.bind(null,"0759"))}},{path:"/address",name:"address",meta:{hiddenNav:!0,requireLogin:!0},component:function(){return Promise.all([n.e("chunk-7732f04b"),n.e("chunk-3611a39d"),n.e("about")]).then(n.bind(null,"6628"))}},{path:"/address/editAddress",name:"editAddress",meta:{hiddenNav:!0,requireLogin:!0},component:function(){return Promise.all([n.e("chunk-7732f04b"),n.e("chunk-3611a39d"),n.e("about")]).then(n.bind(null,"cc06"))}},{path:"/checkout",name:"checkout",meta:{hiddenNav:!0,requireLogin:!0},component:function(){return Promise.all([n.e("chunk-7732f04b"),n.e("chunk-3611a39d"),n.e("about")]).then(n.bind(null,"1713"))}},{path:"/nearbyShop",name:"nearbyShop",meta:{hiddenNav:!0},component:function(){return Promise.all([n.e("chunk-7732f04b"),n.e("chunk-3611a39d"),n.e("about")]).then(n.bind(null,"f53c"))}},{path:"/shopMapDetail",name:"shopMapDetail",meta:{hiddenNav:!0},component:function(){return Promise.all([n.e("chunk-7732f04b"),n.e("chunk-3611a39d"),n.e("about")]).then(n.bind(null,"a5b2"))}},{path:"/networkError",name:"networkError",meta:{hiddenNav:!0},component:function(){return Promise.all([n.e("chunk-7732f04b"),n.e("chunk-3611a39d"),n.e("about")]).then(n.bind(null,"1cb5"))}},{path:"*",redirect:"/404"}]});t["a"]=G},"451b":function(e,t,n){"use strict";var a=n("5cd7"),r=n.n(a);r.a},"49e1":function(e,t){var n={isOld:!0},a={changeIsOld:function(e,t){e.isOld=t},reload:function(e){e.isOld=!1}},r={ChangeIsOld:function(e,t){var n=e.commit;n("changeIsOld",t)},Reload:function(e){var t=e.commit;t("reload")}};e.exports={state:n,mutations:a,actions:r,namespaced:!0}},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{attrs:{id:"app"}},[e.isRouterAlive?n("router-view",{staticClass:"view"}):e._e(),n("transition",{attrs:{name:"fade",appear:""}},[n("tabbar",{directives:[{name:"show",rawName:"v-show",value:!e.isHidden,expression:"!isHidden"}],staticClass:"tabbar"})],1),e.show?n("carts"):e._e()],1)])},o=[],i=(n("8e6e"),n("ac6a"),n("456d"),n("bd86")),c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("van-tabbar",{staticClass:"navbar",attrs:{fixed:"","active-color":"#19A251","safe-area-inset-bottom":!0,"z-index":999},on:{change:e.change},model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[n("van-tabbar-item",{attrs:{name:"/"},scopedSlots:e._u([{key:"icon",fn:function(e){return n("van-icon",{attrs:{name:e.active?"shop":"shop-o",size:"1.3rem"}})}}])},[n("span",[e._v("纤果汇")])]),n("van-tabbar-item",{attrs:{name:"/Collage"},scopedSlots:e._u([{key:"icon",fn:function(e){return n("van-icon",{attrs:{name:e.active?"goods-collect":"goods-collect-o",size:"1.3rem"}})}}])},[n("span",[e._v("拼团")])]),n("van-tabbar-item",{attrs:{name:"/Orders/timelyOrder"},scopedSlots:e._u([{key:"icon",fn:function(e){return n("van-icon",{attrs:{name:e.active?"bill":"bill-o",size:"1.3rem"}})}}])},[n("span",[e._v("订单")])]),n("van-tabbar-item",{attrs:{name:"/Member"},scopedSlots:e._u([{key:"icon",fn:function(e){return n("van-icon",{attrs:{name:e.active?"vip-card":"vip-card-o",size:"1.3rem"}})}}])},[n("span",[e._v("会员")])])],1)],1)},s=[],u=(n("a481"),n("7f7f"),n("ac28")),l=n("2ed4"),d=n("ad06"),h=(n("f9b3"),n("ce26"),n("1885"),n("2f62"));function m(e){for(var t=1;t<arguments.length;t++)if(t%2){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){Object(i["a"])(e,t,n[t])})}else Object.defineProperties(e,Object.getOwnPropertyDescriptors(arguments[t]));return e}a["a"].use(u["a"]).use(l["a"]).use(d["a"]);var f={components:{},data:function(){return{active:"/"}},mounted:function(){var e=this;window.addEventListener("load",function(){for(var t=["/","/Collage","/Orders/timelyOrder","/Member"],n=0;n<t.length;n++)-1!==e.$route.fullPath.indexOf("Orders")&&(e.$store.dispatch("tabbar/changeTabbarName","/Orders/timelyOrder"),e.active=e.name),e.$route.fullPath==t[n]&&(e.$store.dispatch("tabbar/changeTabbarName",t[n]),e.active=e.name)})},methods:{change:function(e){this.$router.replace(e)}},computed:m({},Object(h["b"])("tabbar",["name"])),watch:{$route:function(e,t){for(var n=["/","/Collage","/Orders/timelyOrder","/Member"],a=0;a<n.length;a++)e.path==n[a]&&(this.$store.dispatch("tabbar/changeTabbarName",n[a]),this.active=this.name)},name:function(){this.active=this.name}}},p=f,g=(n("dd4e"),n("2877")),b=Object(g["a"])(p,c,s,!1,null,"3f239a2f",null),v=b.exports,y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("van-overlay",{attrs:{show:e.openDetail&&0!==e.totalNum,"z-index":"3"},on:{click:function(t){e.openDetail=!e.openDetail}}}),n("div",{staticClass:"cartsMain",class:e.isHidden?"":"bottomPosition",on:{touchmove:function(e){e.preventDefault()}}},[n("transition",{attrs:{name:"slideLeft"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.openDetail&&0!==e.totalNum,expression:"openDetail&&totalNum!==0"}],staticClass:"cartMs"},[n("div",{staticClass:"cartMsTop flex row alignCenter padding  spaceBetween FontNormal "},[n("div",{staticClass:"title"},[e._v("已选商品")]),n("div",{staticClass:"clear flex row alignCenter",on:{click:function(t){return t.stopPropagation(),e.clearCarts(t)}}},[n("van-icon",{attrs:{name:"delete",color:"gray"}}),n("span",{staticStyle:{color:"gray"}},[e._v("清空")])],1)]),n("div",{staticClass:"cartsMsContent "},e._l(e.merchandise,function(t,a){return n("div",{key:a,staticClass:"item padding flex spaceBetween paddingTB alignCenter border"},[n("div",{staticClass:"flex row alignCenter"},[n("div",{staticClass:"MsName FontNormal"},[e._v(e._s(t.name))]),n("div",{staticClass:"MsPrice FontNormal  marginFontLeft orange"},[e._v("￥"+e._s(t.price)+"元")])]),n("control",{attrs:{item:t}})],1)}),0)])]),n("transition",{attrs:{name:"slide"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.isShow||e.MountedShow,expression:"isShow||MountedShow"}],staticClass:"cart flex row cartBottom"},[n("div",{staticClass:"cartLeft flex row alignCenter"},[n("transition",{attrs:{name:"zoom"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.isShow||e.MountedShow,expression:"isShow||MountedShow"}],ref:"shoppingCart",staticClass:"cartIcon flex alignCenter justCenter",class:e.closeCarts?"bgGray":"bgOrange",on:{click:function(t){e.openDetail=!e.openDetail}}},[n("van-icon",{attrs:{name:"shopping-cart",color:"white",size:"6.66vw",info:e.closeCarts?"":e.totalNum}})],1)]),n("div",{staticClass:"cover"}),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.closeCarts,expression:"!closeCarts"}],staticClass:"cartTotal marginLeft paddingFontTop"},[n("h4",{staticClass:"price orange"},[e._v("￥"+e._s(e.totalPrice)+"元")]),n("span",{staticClass:"Fontmini gray"},[e._v("不含运费")])]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.closeCarts,expression:"closeCarts"}],staticClass:"cartSlogan marginLeft"},[n("div",{staticClass:"css1b00b16e0520470 gray"},[e._v("不好吃瞬间退款")])])],1),n("div",{staticClass:"cartButton"},[n("router-link",{attrs:{to:"/checkout"}},[n("van-button",{staticClass:"cartCheck",class:e.closeCarts?"bgGray":"bgOrange",attrs:{size:"large"}},[e._v("去结算")])],1)],1)])])],1)],1)},C=[],k=n("cbe3"),w=n("b650"),S=n("6e47");function O(e){for(var t=1;t<arguments.length;t++)if(t%2){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){Object(i["a"])(e,t,n[t])})}else Object.defineProperties(e,Object.getOwnPropertyDescriptors(arguments[t]));return e}a["a"].use(w["a"]).use(d["a"]).use(S["a"]);var P={data:function(){return{mongoliaHeight:0,mongoliaWidth:0,bgHeight:0,openDetail:!1,closeCarts:!1,MountedShow:!1}},methods:{clearCarts:function(){var e=this;this.openDetail=!1,this.closeCarts=!0;var t=setTimeout(function(){e.$store.commit("carts/ClearCarts"),clearTimeout(t)},800)}},computed:O({},Object(h["b"])("carts",["merchandise","totalNum","totalPrice"]),{},Object(h["b"])("tabbar",["isHidden"]),{isShow:{get:function(){return 0!==this.totalNum}}}),watch:{totalNum:function(){0!==this.totalNum?this.closeCarts=!1:this.closeCarts=!0}},components:{control:k["a"]},mounted:function(){this.mongoliaHeight=document.documentElement.clientHeight+"px",this.mongoliaWidth=document.documentElement.clientWidth+"px",this.bgHeight=document.documentElement.clientHeight-50+"px"}},_=P,N=(n("77c1"),Object(g["a"])(_,y,C,!1,null,"583b1991",null)),x=N.exports;function j(e){for(var t=1;t<arguments.length;t++)if(t%2){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){Object(i["a"])(e,t,n[t])})}else Object.defineProperties(e,Object.getOwnPropertyDescriptors(arguments[t]));return e}var L={data:function(){return{isRouterAlive:!0}},provide:function(){return{reload:this.reload}},components:{tabbar:v,carts:x},computed:j({},Object(h["b"])("tabbar",["isHidden"]),{},Object(h["b"])("carts",["show"])),methods:{reload:function(){this.isRouterAlive=!1,this.$nextTick(function(){this.isRouterAlive=!0})}}},T=L,I=(n("5c0b"),Object(g["a"])(T,r,o,!1,null,null,null)),D=I.exports,M=n("41cb"),E=(n("96cf"),n("3b8d"));n("20d6"),n("7514");function F(e,t){return e.find(function(e){return e._id==t})}function H(e,t){return e.findIndex(function(e){return e._id==t})}function R(e,t){if(null==localStorage.getItem(e)){var n={merchandise:[],totalNum:0,totalPrice:0,realTotalPrice:0};localStorage.setItem("Carts",JSON.stringify(n))}return JSON.parse(localStorage.getItem(e))[t]}var $={merchandise:R("Carts","merchandise"),totalNum:R("Carts","totalNum"),totalPrice:R("Carts","totalPrice"),realTotalPrice:R("Carts","realTotalPrice"),show:!1},B={changeMerchandise:function(e,t){var n=F(e.merchandise,t._id);if(n){var r=n.num,o=n.reserve,i=r+=t.num;if(i<0)return;if(r>o)return void a["a"].prototype.Toast("此商品仅剩".concat(o,"件"));if(n.num+=t.num,0==n.num){var c=H(e.merchandise,n._id);e.merchandise.splice(c,1)}}else{if(!(t.num>0))return;e.merchandise.push(t)}var s={merchandise:e.merchandise};localStorage.setItem("Carts",JSON.stringify(s))},changeTotal:function(e){e.totalNum=0,e.totalPrice=0,e.merchandise.forEach(function(t){e.totalNum+=t.num,e.totalPrice+=t.price*t.num}),e.totalPrice=e.totalPrice.toFixed(2);var t=JSON.parse(localStorage.getItem("Carts"));t.totalPrice=e.totalPrice,t.totalNum=e.totalNum,localStorage.setItem("Carts",JSON.stringify(t))},ClearCarts:function(){$.merchandise=[],$.totalNum=0,$.totalPrice=0,$.realTotalPrice=0,localStorage.removeItem("Carts");var e={merchandise:[],totalNum:0,totalPrice:0,realTotalPrice:0};localStorage.setItem("Carts",JSON.stringify(e))},ShowCarts:function(e,t){e.show=t},ChangeTotalPrice:function(e,t){e.realTotalPrice=t;var n=JSON.parse(localStorage.getItem("Carts"));n.realTotalPrice=e.realTotalPrice,localStorage.setItem("Carts",JSON.stringify(n))},shopAgain:function(e,t){e.merchandise=[];var n=JSON.parse(localStorage.getItem("Carts"));n.merchandise=t,localStorage.setItem("Carts",JSON.stringify(n)),e.merchandise=t}},q={addMerchandise:function(){var e=Object(E["a"])(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.commit("changeMerchandise",n);case 2:return e.next=4,t.dispatch("calTotal");case 4:case"end":return e.stop()}},e)}));function t(t,n){return e.apply(this,arguments)}return t}(),clearCarts:function(e){e.commit("ClearCarts")},showCarts:function(e,t){var n=e.commit;n("ShowCarts",t)},calTotal:function(e){var t=e.commit;t("changeTotal")},changeTotalPrice:function(e,t){var n=e.commit;n("ChangeTotalPrice",t)},ShopAgain:function(){var e=Object(E["a"])(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.commit("shopAgain",n);case 2:return e.next=4,t.dispatch("calTotal");case 4:case"end":return e.stop()}},e)}));function t(t,n){return e.apply(this,arguments)}return t}()},A={state:$,mutations:B,actions:q,namespaced:!0},z={isHidden:!1,name:""},J={ChangeHidden:function(e,t){e.isHidden=t},ChangeTabbarName:function(e,t){e.name=t}},G={changeHidden:function(e,t){var n=e.commit;n("ChangeHidden",t)},changeTabbarName:function(e,t){var n=e.commit;n("ChangeTabbarName",t)}},U={namespaced:!0,state:z,mutations:J,actions:G},K={distanceX:0,distanceY:0},Y={changeDistance:function(e,t){e.distanceX=t.distanceX,e.distanceY=t.distanceY}},W={},X={namespaced:!0,state:K,mutations:Y,actions:W},Q=n("7c15"),V={isLogin:!1,userInfo:{}},Z={login:function(e,t){e.userInfo=t,e.isLogin=!0,Q["a"].defaults.headers.common["Token"]=e.userInfo.token},logout:function(e){e.userInfo={},e.isLogin=!1,Q["a"].defaults.headers.common["Token"]=""}},ee={loginAction:function(e,t){var n=e.commit;n("login",t)},logoutAction:function(e){var t=e.commit;t("logout")},checkLoginAction:function(e){var t=e.commit;Q["a"].post("/checkToken",{_slient:!0}).then(function(e){},function(e){console.log(e),t("logout")})}},te={namespaced:!0,state:V,mutations:Z,actions:ee},ne={share:{}},ae={createdShare:function(e,t){e.share=t},clearShare:function(e){e.share={}}},re={CreatedShare:function(e,t){var n=e.commit;n("createdShare",t)},ClearShare:function(e){var t=e.commit;t("clearShare")},GetShare:function(e){var t=e.commit;t("getShare")}},oe={state:ne,mutations:ae,actions:re,namespaced:!0},ie=n("49e1"),ce=n.n(ie),se={first:!1},ue={changeFirst:function(e){e.first=!0}},le={namespaced:!0,state:se,mutations:ue},de=n("73c9"),he=n.n(de),me=n("eec9"),fe=n.n(me),pe={collageOrderDetail:{}},ge={renderOrder:function(e,t){e.collageOrderDetail=t},clearOrder:function(e){e.collageOrderDetail={}}},be={OrderDetail:function(e,t){var n=e.commit;return Q["a"].get("/getCollageOrder?id=".concat(t)).then(function(e){n("renderOrder",e)})},clear:function(e){var t=e.commit;t("clearOrder")}},ve={namespaced:!0,state:pe,mutations:ge,actions:be},ye={reloadShow:!1},Ce={reloadShow:function(e,t){e.reloadShow=t}},ke={changeReloadShow:function(e,t){var n=e.commit;n("reloadShow",t)}},we={namespaced:!0,state:ye,mutations:Ce,actions:ke};function Se(e,t){if(null==localStorage.getItem(e)){var n={name:"",id:"",address:"",opening:""};localStorage.setItem("NearbyShop",JSON.stringify({nearbyShop:n}))}return JSON.parse(localStorage.getItem(e))[t]}var Oe={nearbyShop:Se("NearbyShop","nearbyShop")},Pe={changeNearbyShop:function(e,t){e.nearbyShop=t;var n=JSON.parse(localStorage.getItem("NearbyShop")).nearbyShop;n.name=t.name,n.id=t.id,n.address=t.address,n.opening=t.opening,localStorage.setItem("NearbyShop",JSON.stringify({nearbyShop:n}))}},_e={ChangeNearbyShop:function(e,t){var n=e.commit;n("changeNearbyShop",t)}},Ne={namespaced:!0,state:Oe,mutations:Pe,actions:_e};n("386d"),n("6762"),n("2fdb");function xe(e,t){if(null==localStorage.getItem(e)){var n=[];localStorage.setItem("Search",JSON.stringify({search:n}))}return JSON.parse(localStorage.getItem(e))[t]}var je={search:xe("Search","search")},Le={changeSearch:function(e,t){if(e.search.includes(t))return!1;var n=JSON.parse(localStorage.getItem("Search")),a=n.search;e.search.push(t),a.push(t),localStorage.setItem("Search",JSON.stringify({search:a}))},clear:function(e){e.search=[];var t=[];localStorage.setItem("Search",JSON.stringify({search:t}))}},Te={ChangeSearch:function(e,t){var n=e.commit;n("changeSearch",t)},Clear:function(e){var t=e.commit;t("clear")}},Ie={namespaced:!0,state:je,mutations:Le,actions:Te},De=n("0e44");a["a"].use(h["a"]);var Me=new h["a"].Store({state:{},mutations:{},actions:{},modules:{carts:A,tabbar:U,distance:X,user:te,share:oe,payPassword:ce.a,firstCheck:le,payMode:he.a,pay:fe.a,collageOrderDetail:ve,networkError:we,nearbyShop:Ne,searchHistory:Ie},plugins:[Object(De["a"])({key:"User",paths:["user"],subscriber:function(e){return e.state.user.userInfo.token&&(Q["a"].defaults.headers.common["Token"]=e.state.user.userInfo.token,e.dispatch("user/checkLoginAction")),function(t){return e.subscribe(t)}}})]}),Ee=n("2241"),Fe=n("d399"),He=n("f564"),Re=(n("157a"),n("77ed")),$e=n.n(Re);a["a"].use($e.a).use(Ee["a"]),a["a"].prototype.Toast=Fe["a"],a["a"].prototype.Notify=He["a"],a["a"].config.productionTip=!1,M["a"].beforeEach(function(e,t,n){if(e.matched.some(function(e){return e.meta.requireLogin})){var a=JSON.parse(localStorage.getItem("User"));a.user.isLogin?n():n({path:"/notLogin"})}else n();e.matched.some(function(e){return e.meta.hiddenNav})?(Me.dispatch("tabbar/changeHidden",!0),n()):(Me.dispatch("tabbar/changeHidden",!1),n()),e.meta.showCarts?(Me.dispatch("carts/showCarts",!0),n()):(Me.dispatch("carts/showCarts",!1),n())}),new a["a"]({router:M["a"],store:Me,render:function(e){return e(D)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";var a=n("5e27"),r=n.n(a);r.a},"5cd7":function(e,t,n){},"5e27":function(e,t,n){},6968:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"title flex row"},[n("span",{staticClass:"css1b97c1a97920470"},[e._v(e._s(e.text?e.text:"纤果汇"))])])},r=[],o={props:["text"]},i=o,c=(n("40d6"),n("2877")),s=Object(c["a"])(i,a,r,!1,null,"46770cf8",null);t["a"]=s.exports},"73c9":function(e,t){var n={mode:"memberWallet"},a={changePayMode:function(e,t){e.mode=t}},r={ChangePayMode:function(e,t){var n=e.commit;n("changePayMode",t)}};e.exports={namespaced:!0,state:n,mutations:a,actions:r}},"77c1":function(e,t,n){"use strict";var a=n("3b7b"),r=n.n(a);r.a},"79db":function(e,t,n){"use strict";var a=n("e8cb"),r=n.n(a);r.a},"7c15":function(e,t,n){"use strict";var a,r=n("2b0e"),o=n("bc3a"),i=n.n(o),c=n("41cb"),s=n("d399"),u=0;function l(){a=s["a"].loading({mask:!1,message:"加载中..."})}function d(){a.clear()}var h={showFullScreenLoading:function(){0===u&&l(),u++},tryHideFullScreenLoading:function(){u<=0||(u--,0===u&&d())}};n.d(t,"a",function(){return m});var m=i.a.create({baseURL:"http://47.107.134.55:4004/user/api"});m.interceptors.request.use(function(e){return h.showFullScreenLoading(),e.params&&e.params.noLoading&&h.tryHideFullScreenLoading(),e},function(e){return h.tryHideFullScreenLoading(),Promise.reject(e)}),m.interceptors.response.use(function(e){return h.tryHideFullScreenLoading(),e.data.data},function(e){if(h.tryHideFullScreenLoading(),e){if(!e.response)return c["a"].push({path:"/networkError"}),s["a"].fail("加载失败"),!1;var t=e.response.status,n=e.response.data.data.message;if(403==t&&1==e.response.data.data.logout)return void c["a"].push({path:"/notLogin",query:{tokenOverdue:!0,message:n}});JSON.parse(e.config.data)._slient||r["a"].prototype.Notify(n)}return Promise.reject(e)})},8644:function(e,t,n){},"997e":function(e,t,n){},cbe3:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"goodsControl flex row  padding alignCenter",class:0==e.item.reserve?"justCenter":"spaceBetween"},[n("transition",{attrs:{name:"rotate"}},[0!==e.item.reserve?n("div",{directives:[{name:"show",rawName:"v-show",value:0!==e.num(e.item._id),expression:"num(item._id)!==0"}],staticClass:"reduce flex justCenter alignCenter",on:{click:function(t){return t.stopPropagation(),e.addGoods(-1,e.item)}}}):e._e()]),n("transition",{attrs:{name:"rotate"}},[0!==e.item.reserve?n("div",{directives:[{name:"show",rawName:"v-show",value:0!==e.num(e.item._id),expression:"num(item._id)!==0"}],staticClass:"NumShow"},[e._v(e._s(e.num(e.item._id)))]):e._e()]),0!==e.item.reserve?n("div",{staticClass:"plus flex justCenter alignCenter",on:{click:function(t){return t.stopPropagation(),e.addGoods(1,e.item)}}},[n("van-icon",{attrs:{name:"plus",size:"12px"}})],1):n("div",{staticClass:"noReserve"},[e._v("已售罄")])],1)},r=[],o=(n("8e6e"),n("ac6a"),n("456d"),n("7514"),n("bd86")),i=(n("7f7f"),n("96cf"),n("3b8d")),c=n("d399"),s=n("2b0e"),u=n("2f62");function l(e){for(var t=1;t<arguments.length;t++)if(t%2){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){Object(o["a"])(e,t,n[t])})}else Object.defineProperties(e,Object.getOwnPropertyDescriptors(arguments[t]));return e}s["a"].use(c["a"]);var d={props:["item"],data:function(){return{isAdd:!1}},methods:{addGoods:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t,n){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:a={_id:n._id,num:t,price:n.realPrice,name:n.name,reserve:n.reserve,goodsImg:n.goodsImg[0],desc:n.desc,spec:n.spec},this.$store.dispatch("carts/addMerchandise",a);case 2:case"end":return e.stop()}},e,this)}));function t(t,n){return e.apply(this,arguments)}return t}()},computed:l({},Object(u["b"])("carts",["merchandise"]),{num:function(){return function(e){var t=this.merchandise.find(function(t){return t._id==e});return t?t.num:0}}})},h=d,m=(n("451b"),n("2877")),f=Object(m["a"])(h,a,r,!1,null,"010c9b90",null);t["a"]=f.exports},cc3b:function(e,t,n){},dd4e:function(e,t,n){"use strict";var a=n("3a9b"),r=n.n(a);r.a},e8cb:function(e,t,n){},eec9:function(e,t){var n={showPayMode:!1,payId:"",payPrice:0},a={changePayShow:function(e,t){e.showPayMode=t},changePayId:function(e,t){e.payId=t},changePayPrice:function(e,t){e.payPrice=t},clear:function(e){e.showPayMode=!1,e.payId="",e.payPrice=0}},r={ChangePayShow:function(e,t){var n=e.commit;n("changePayShow",t)},ChangePayId:function(e,t){var n=e.commit;n("changePayId",t)},ChangePayPrice:function(e,t){var n=e.commit;n("changePayPrice",t)},Clear:function(e){var t=e.commit;t("clear")}};e.exports={namespaced:!0,state:n,mutations:a,actions:r}}});
//# sourceMappingURL=app.6e4c23c8.js.map