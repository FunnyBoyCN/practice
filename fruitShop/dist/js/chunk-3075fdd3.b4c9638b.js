(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3075fdd3"],{2592:function(r,s,o){},"30f7":function(r,s,o){"use strict";var e=o("2592"),a=o.n(e);a.a},"3edb":function(r,s,o){},6093:function(r,s,o){"use strict";var e=o("3edb"),a=o.n(e);a.a},"7a63":function(r,s,o){"use strict";o.r(s);var e=function(){var r=this,s=r.$createElement,o=r._self._c||s;return o("div",[o("nav-bar",{attrs:{navbarTitle:"修改密码"}}),o("main",{staticClass:" input paddingXLR flex column"},[o("div",{staticClass:" topControl flex row flexEnd "},[o("van-icon",{staticClass:"border",attrs:{name:r.isHidden?"closed-eye":"eye",size:"5vw"},on:{click:function(s){s.stopPropagation(),r.isHidden=!r.isHidden}}})],1),o("div",{ref:"oldPassword",staticClass:"item flex row alignCenter border padding marginTop "},["checkbox"===(r.isHidden?"password":"text")?o("input",{directives:[{name:"model",rawName:"v-model",value:r.oldPassword,expression:"oldPassword"}],attrs:{placeholder:"请输入原先密码",type:"checkbox"},domProps:{checked:Array.isArray(r.oldPassword)?r._i(r.oldPassword,null)>-1:r.oldPassword},on:{change:function(s){var o=r.oldPassword,e=s.target,a=!!e.checked;if(Array.isArray(o)){var t=null,i=r._i(o,t);e.checked?i<0&&(r.oldPassword=o.concat([t])):i>-1&&(r.oldPassword=o.slice(0,i).concat(o.slice(i+1)))}else r.oldPassword=a}}}):"radio"===(r.isHidden?"password":"text")?o("input",{directives:[{name:"model",rawName:"v-model",value:r.oldPassword,expression:"oldPassword"}],attrs:{placeholder:"请输入原先密码",type:"radio"},domProps:{checked:r._q(r.oldPassword,null)},on:{change:function(s){r.oldPassword=null}}}):o("input",{directives:[{name:"model",rawName:"v-model",value:r.oldPassword,expression:"oldPassword"}],attrs:{placeholder:"请输入原先密码",type:r.isHidden?"password":"text"},domProps:{value:r.oldPassword},on:{input:function(s){s.target.composing||(r.oldPassword=s.target.value)}}})]),o("div",{ref:"newPassword",staticClass:"item flex row alignCenter border padding marginTop"},["checkbox"===(r.isHidden?"password":"text")?o("input",{directives:[{name:"model",rawName:"v-model",value:r.form.password,expression:"form.password"}],attrs:{placeholder:"请输入新密码",type:"checkbox"},domProps:{checked:Array.isArray(r.form.password)?r._i(r.form.password,null)>-1:r.form.password},on:{change:function(s){var o=r.form.password,e=s.target,a=!!e.checked;if(Array.isArray(o)){var t=null,i=r._i(o,t);e.checked?i<0&&r.$set(r.form,"password",o.concat([t])):i>-1&&r.$set(r.form,"password",o.slice(0,i).concat(o.slice(i+1)))}else r.$set(r.form,"password",a)}}}):"radio"===(r.isHidden?"password":"text")?o("input",{directives:[{name:"model",rawName:"v-model",value:r.form.password,expression:"form.password"}],attrs:{placeholder:"请输入新密码",type:"radio"},domProps:{checked:r._q(r.form.password,null)},on:{change:function(s){return r.$set(r.form,"password",null)}}}):o("input",{directives:[{name:"model",rawName:"v-model",value:r.form.password,expression:"form.password"}],attrs:{placeholder:"请输入新密码",type:r.isHidden?"password":"text"},domProps:{value:r.form.password},on:{input:function(s){s.target.composing||r.$set(r.form,"password",s.target.value)}}})]),o("div",{ref:"confirmPassword",staticClass:"item flex row alignCenter border padding marginTop"},["checkbox"===(r.isHidden?"password":"text")?o("input",{directives:[{name:"model",rawName:"v-model",value:r.form.confirmPassword,expression:"form.confirmPassword"}],attrs:{placeholder:"请再次输入新密码",type:"checkbox"},domProps:{checked:Array.isArray(r.form.confirmPassword)?r._i(r.form.confirmPassword,null)>-1:r.form.confirmPassword},on:{change:function(s){var o=r.form.confirmPassword,e=s.target,a=!!e.checked;if(Array.isArray(o)){var t=null,i=r._i(o,t);e.checked?i<0&&r.$set(r.form,"confirmPassword",o.concat([t])):i>-1&&r.$set(r.form,"confirmPassword",o.slice(0,i).concat(o.slice(i+1)))}else r.$set(r.form,"confirmPassword",a)}}}):"radio"===(r.isHidden?"password":"text")?o("input",{directives:[{name:"model",rawName:"v-model",value:r.form.confirmPassword,expression:"form.confirmPassword"}],attrs:{placeholder:"请再次输入新密码",type:"radio"},domProps:{checked:r._q(r.form.confirmPassword,null)},on:{change:function(s){return r.$set(r.form,"confirmPassword",null)}}}):o("input",{directives:[{name:"model",rawName:"v-model",value:r.form.confirmPassword,expression:"form.confirmPassword"}],attrs:{placeholder:"请再次输入新密码",type:r.isHidden?"password":"text"},domProps:{value:r.form.confirmPassword},on:{input:function(s){s.target.composing||r.$set(r.form,"confirmPassword",s.target.value)}}})]),o("div",{directives:[{name:"show",rawName:"v-show",value:0!==r.errorText.length,expression:"errorText.length!==0"}],staticClass:"errorMs paddingTB"},[o("div",{staticClass:"content flex row alignCenter"},[o("div",{staticClass:"icon flex row alignCenter justCenter"},[o("van-icon",{attrs:{name:"warning-o",size:"4vw",color:"white"}})],1),o("div",{staticClass:"text marginFontLeft"},[r._v(r._s(r.errorText))])])]),o("div",{staticClass:"submit marginTop"},[o("button",{staticClass:"reset padding",on:{click:function(s){return s.stopPropagation(),r.reset(s)}}},[r._v("重置")]),o("button",{staticClass:"submitButton padding",on:{click:function(s){return s.stopPropagation(),r.submit(s)}}},[r._v("确认修改")])])])],1)},a=[],t=(o("3b2b"),o("9d8d")),i=o("7c15"),n=o("2b0e"),d=o("ad06"),c=o("d399");n["a"].use(d["a"]).use(c["a"]);var l={data:function(){return{isHidden:!0,oldPassword:"",form:{password:"",confirmPassword:""},errorText:"",level:0}},methods:{reset:function(){this.oldPassword="",this.form={},this.errorText=""},submit:function(){var r=this;""==this.oldPassword?(this.$refs.oldPassword.classList.add("borderError"),this.errorText="请先输入原密码"):""==this.form.password?(this.$refs.newPassword.classList.add("borderError"),this.errorText="请输入新密码"):""!==this.form.password&&this.lengthCheck(this.form.password).then(function(s){s&&(""==r.form.confirmPassword?(r.$refs.confirmPassword.classList.add("borderError"),r.errorText="请确认新密码"):r.confirmCheck()&&(r.form.oldPassword=r.oldPassword,i["a"].post("/editPassword",{form:r.form,_slient:!0}).then(function(s){r.$router.go(-1),c["a"].success(s.message)}).catch(function(r){c["a"].fail(r.response.data.data.message)})))})},confirmCheck:function(){var r=!0;return this.form.password!==this.form.confirmPassword&&(this.$refs.confirmPassword.classList.add("borderError"),this.errorText="两次输入的密码不一致",r=!1),r},lengthCheck:function(r){var s=this;return new Promise(function(o){var e=!0,a=new RegExp(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[^]{8,16}$/);a.test(r)||(s.$refs.newPassword.classList.add("borderError"),s.errorText="密码至少8位包含大小字母以及数字",s.form.password,e=!1),o(e)})},errorReset:function(){this.$refs.oldPassword.classList.remove("borderError"),this.$refs.newPassword.classList.remove("borderError"),this.$refs.confirmPassword.classList.remove("borderError"),this.errorText="",this.level=0}},computed:{formInput:function(){return this.oldPassword+this.form.confirmPassword+this.form.password}},watch:{formInput:function(){this.errorReset()}},mounted:function(){},components:{navBar:t["a"]}},m=l,f=(o("6093"),o("2877")),w=Object(f["a"])(m,e,a,!1,null,"0b627a32",null);s["default"]=w.exports},"9d8d":function(r,s,o){"use strict";var e=function(){var r=this,s=r.$createElement,o=r._self._c||s;return o("div",[o("transition",{attrs:{name:"slide",appear:""}},[o("div",{staticClass:"navBar",class:r.isFixed?"fixed":""},[o("div",{staticClass:"navBarLeft",on:{click:function(s){return r.go(-1)}}},[o("van-icon",{attrs:{name:"arrow-left",color:"white"}}),o("span",{staticClass:"marginFontLeft"},[r._v("返回")])],1),o("span",{staticClass:"navBarText"},[r._v(r._s(r.navbarTitle))])])]),o("div",{staticClass:"cover"})],1)},a=[],t=o("ad06"),i=o("2b0e");i["a"].use(t["a"]);var n={data:function(){return{isFixed:!1}},props:["navbarTitle","isRight","RightText"],methods:{go:function(){this.$router.go(-1)}},mounted:function(){var r=this;window.addEventListener("scroll",function(){var s=window.pageYOffset||document.body.scrollTop||document.documentElement.scrollTop;r.isFixed=s>=15})}},d=n,c=(o("30f7"),o("2877")),l=Object(c["a"])(d,e,a,!1,null,"fe09acd2",null);s["a"]=l.exports}}]);
//# sourceMappingURL=chunk-3075fdd3.b4c9638b.js.map