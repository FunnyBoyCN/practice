(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4f1d54b5"],{"1c4c":function(e,t,r){"use strict";var a=r("9b43"),o=r("5ca1"),s=r("4bf8"),n=r("1fa8"),i=r("33a4"),c=r("9def"),d=r("f1ae"),l=r("27ee");o(o.S+o.F*!r("5cc5")(function(e){Array.from(e)}),"Array",{from:function(e){var t,r,o,u,f=s(e),m="function"==typeof this?this:Array,p=arguments.length,h=p>1?arguments[1]:void 0,v=void 0!==h,g=0,w=l(f);if(v&&(h=a(h,p>2?arguments[2]:void 0,2)),void 0==w||m==Array&&i(w))for(t=c(f.length),r=new m(t);t>g;g++)d(r,g,v?h(f[g],g):f[g]);else for(u=w.call(f),r=new m;!(o=u.next()).done;g++)d(r,g,v?n(u,h,[o.value,g],!0):o.value);return r.length=g,r}})},2592:function(e,t,r){},"30f7":function(e,t,r){"use strict";var a=r("2592"),o=r.n(a);o.a},"3b76":function(e,t,r){},"5df3":function(e,t,r){"use strict";var a=r("02f4")(!0);r("01f9")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=a(t,r),this._i+=e.length,{value:e,done:!1})})},7399:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("nav-bar",{attrs:{navbarTitle:"登陆"}}),e._m(0),r("main",{staticClass:"login paddingXLR"},[r("div",{staticClass:"loginInput"},[r("div",{ref:"phone",staticClass:"item flex row alignCenter  border padding"},[r("div",{staticClass:"phoneArea flex row alignCenter"},[r("div",{staticClass:"area flex row alignCenter"},[r("transition",{attrs:{name:"slideLeft",appear:""}},[r("span",[e._v("+86")])]),r("van-icon",{attrs:{name:"arrow",size:"16PX",color:"#7a7a7a"}})],1)]),r("div",{staticClass:"input flex row alignCenter"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.phone,expression:"formData.phone"}],attrs:{placeholder:"手机号码",type:"number"},domProps:{value:e.formData.phone},on:{input:function(t){t.target.composing||e.$set(e.formData,"phone",t.target.value)}}}),r("van-icon",{directives:[{name:"show",rawName:"v-show",value:e.formData.phone.length>0,expression:"formData.phone.length>0"}],staticClass:"closeButton marginFontRight",attrs:{name:"close",size:"5vw",color:"#7a7a7a"},on:{click:function(t){return t.stopPropagation(),e.clear(t,"phone")}}})],1)]),r("div",{directives:[{name:"show",rawName:"v-show",value:!e.isLoginType,expression:"!isLoginType"}],ref:"code",staticClass:"item flex row alignCenter border padding"},[r("div",{staticClass:"input flex row alignCenter"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.code,expression:"formData.code"}],attrs:{placeholder:"短信验证码",type:"number"},domProps:{value:e.formData.code},on:{input:function(t){t.target.composing||e.$set(e.formData,"code",t.target.value)}}}),r("van-icon",{directives:[{name:"show",rawName:"v-show",value:e.formData.code.length>0,expression:"formData.code.length>0"}],staticClass:"closeButton marginFontRight",attrs:{name:"close",size:"5vw",color:"#7a7a7a"},on:{click:function(t){return t.stopPropagation(),e.clear(t,"code")}}})],1),r("div",{staticClass:"phoneArea flex row alignCenter "},[r("button",{staticClass:"sms",style:e.isCountTime?"color:gray":"color:royalblue",attrs:{disabled:e.isCountTime},on:{click:e.sendCode}},[e._v(e._s(e.isSend?"重新发送":"获取验证码")+e._s(e.isCountTime?e.countNumZero+e.countNum:""))]),r("div",{staticClass:"countTime"})])]),r("div",{directives:[{name:"show",rawName:"v-show",value:e.isLoginType,expression:"isLoginType"}],ref:"password",staticClass:"item flex row alignCenter border padding"},[r("div",{staticClass:"input flex row alignCenter"},["checkbox"===(e.isHidden?"password":"text")?r("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.password,expression:"formData.password"}],attrs:{placeholder:"请输入密码",type:"checkbox"},domProps:{checked:Array.isArray(e.formData.password)?e._i(e.formData.password,null)>-1:e.formData.password},on:{change:function(t){var r=e.formData.password,a=t.target,o=!!a.checked;if(Array.isArray(r)){var s=null,n=e._i(r,s);a.checked?n<0&&e.$set(e.formData,"password",r.concat([s])):n>-1&&e.$set(e.formData,"password",r.slice(0,n).concat(r.slice(n+1)))}else e.$set(e.formData,"password",o)}}}):"radio"===(e.isHidden?"password":"text")?r("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.password,expression:"formData.password"}],attrs:{placeholder:"请输入密码",type:"radio"},domProps:{checked:e._q(e.formData.password,null)},on:{change:function(t){return e.$set(e.formData,"password",null)}}}):r("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.password,expression:"formData.password"}],attrs:{placeholder:"请输入密码",type:e.isHidden?"password":"text"},domProps:{value:e.formData.password},on:{input:function(t){t.target.composing||e.$set(e.formData,"password",t.target.value)}}}),r("van-icon",{staticClass:" marginFontRight",attrs:{name:e.isHidden?"closed-eye":"eye"},on:{click:function(t){t.stopPropagation(),e.isHidden=!e.isHidden}}})],1)])]),r("div",{directives:[{name:"show",rawName:"v-show",value:0!==e.errorText.length,expression:"errorText.length!==0"}],staticClass:"errorMs paddingTB"},[r("div",{staticClass:"content flex row alignCenter"},[r("div",{staticClass:"icon flex row alignCenter justCenter"},[r("van-icon",{attrs:{name:"warning-o",size:"4vw",color:"white"}})],1),r("div",{staticClass:"text marginFontLeft"},[e._v(e._s(e.errorText))])])]),r("div",{staticClass:"submit flex column marginTop"},[r("button",{staticClass:"submitButton marginTop padding",on:{click:function(t){return t.stopPropagation(),e.submit(t)}}},[e._v(e._s(e.isLoginType?"登录":"立即登录/注册"))]),r("button",{staticClass:"passwordLogin marginTop padding",on:{click:function(t){return t.stopPropagation(),e.changeLogin(t)}}},[e._v(e._s(e.isLoginType?"手机短信登录/注册":"密码登录"))])])])],1)},o=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"padding flex column marginTop alignCenter"},[r("div",{staticClass:"LoginIcon flex row justCenter alignCenter padding"},[r("span",[e._v("纤果汇")])]),r("div",{staticClass:"marginFontTop FontLarge"},[e._v("水果账号登录")])])}],s=(r("3b2b"),r("96cf"),r("3b8d")),n=(r("6b54"),r("28a5"),r("5df3"),r("1c4c"),r("9d8d")),i=r("7c15"),c=r("565f"),d=r("2638"),l=r.n(d),u=r("d282"),f=r("ba31"),m=r("b1d2"),p=Object(u["a"])("cell-group"),h=p[0],v=p[1];function g(e,t,r,a){var o,s=e("div",l()([{class:[v(),(o={},o[m["f"]]=t.border,o)]},Object(f["b"])(a,!0)]),[r.default&&r.default()]);return t.title||r.title?e("div",[e("div",{class:v("title")},[r.title?r.title():t.title]),s]):s}g.props={title:String,border:{type:Boolean,default:!0}};var w=h(g),C=r("ad06"),b=r("d399"),x=r("f564"),T=r("2241"),D=r("2b0e");D["a"].use(c["a"]).use(w).use(C["a"]).use(b["a"]).use(x["a"]).use(T["a"]);var y={data:function(){return{isSend:!1,isCountTime:!1,isHidden:!1,isLoginType:!1,errorText:"",formData:{phone:"",code:"",password:""},timer:"",countTimer:"",countNum:60,Code:"",userInfo:{}}},components:{navBar:n["a"]},methods:{clear:function(e,t){var r=Array.from(e.target.parentNode.childNodes),a=r.filter(function(e){if("HTMLInputElement"==e.toString().split(" ")[1].split("]")[0])return e});a[0].focus(),this.$set(this.formData,t,"")},sendCode:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=this,!t.checkPhone()){e.next=8;break}return t.isSend=!0,e.next=5,i["a"].post("/sms",{phone:t.formData.phone});case 5:t.Code=e.sent,t.isCountTime=!0,t.countTimer=setInterval(function(){t.countNum--,0==t.countNum&&(t.isCountTime=!1,t.countNum=60,clearInterval(t.countTimer))},1e3);case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),submit:function(){var e=this,t=this.checked();t&&i["a"].post("/login",this.formData).then(function(t){e.$notify({message:t.message,duration:500,background:"#19A251"}),e.$store.dispatch("user/loginAction",t.userInfo);var r=e;r.timer=setTimeout(function(){if(t.register)T["a"].confirm({title:"注册成功 您的初始密码为123",message:"初始密码安全级别较低，是否立即修改密码？",cancelButtonText:"稍后修改",confirmButtonText:"现在就去",confirmButtonColor:"#19A251"}).then(function(){r.$router.push("/editPassword")}).catch(function(){r.$router.push("/Member")});else{var a=e.$route.query.tokenOverdue;a?r.$router.go(-1):r.$router.push("/Member")}clearTimeout(r.timer)},500)},function(e){b["a"].fail(e.response.data.data.message)})},checked:function(){var e=!1;return this.checkPhone()&&(this.isLoginType?""==this.formData.password?(this.$refs.password.classList.add("borderError"),this.errorText="请输入密码"):e=!0:e=!!this.checkCode()),e},tel:function(e){var t=new RegExp(/^1[34578]\d{9}$/);return t.test(e)},code:function(e){var t=new RegExp(/^\d{6}$/);return t.test(e)},checkPhone:function(){var e=!1,t=this.formData.phone;return""==t?(this.$refs.phone.classList.add("borderError"),this.errorText="请输入手机号"):this.tel(t)?e=!0:(this.$refs.phone.classList.add("borderError"),this.errorText="请输入正确手机号"),e},checkCode:function(){var e=!1;return""==this.formData.code?(this.$refs.code.classList.add("borderError"),this.errorText="请输入验证码"):this.code(this.formData.code)?e=!0:(this.$refs.code.classList.add("borderError"),this.errorText="请输入正确验证码"),e},inputInit:function(){this.$refs.phone.classList.remove("borderError"),this.$refs.code.classList.remove("borderError"),this.$refs.password.classList.remove("borderError"),this.errorText=""},changeLogin:function(){this.isLoginType=!this.isLoginType,this.errorText="",this.formData.password=""}},computed:{countNumZero:function(){return this.countNum<10?"0":""},form:function(){return this.formData.phone+this.formData.code+this.formData.password}},watch:{form:function(){this.inputInit()}}},L=y,_=(r("c5b8"),r("2877")),$=Object(_["a"])(L,a,o,!1,null,"864c557a",null);t["default"]=$.exports},"9d8d":function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("transition",{attrs:{name:"slide",appear:""}},[r("div",{staticClass:"navBar",class:e.isFixed?"fixed":""},[r("div",{staticClass:"navBarLeft",on:{click:function(t){return e.go(-1)}}},[r("van-icon",{attrs:{name:"arrow-left",color:"white"}}),r("span",{staticClass:"marginFontLeft"},[e._v("返回")])],1),r("span",{staticClass:"navBarText"},[e._v(e._s(e.navbarTitle))])])]),r("div",{staticClass:"cover"})],1)},o=[],s=r("ad06"),n=r("2b0e");n["a"].use(s["a"]);var i={data:function(){return{isFixed:!1}},props:["navbarTitle","isRight","RightText"],methods:{go:function(){this.$router.go(-1)}},mounted:function(){var e=this;window.addEventListener("scroll",function(){var t=window.pageYOffset||document.body.scrollTop||document.documentElement.scrollTop;e.isFixed=t>=15})}},c=i,d=(r("30f7"),r("2877")),l=Object(d["a"])(c,a,o,!1,null,"fe09acd2",null);t["a"]=l.exports},c5b8:function(e,t,r){"use strict";var a=r("3b76"),o=r.n(a);o.a}}]);
//# sourceMappingURL=chunk-4f1d54b5.b360b4fb.js.map