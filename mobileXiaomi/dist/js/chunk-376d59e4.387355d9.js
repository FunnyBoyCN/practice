(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-376d59e4"],{"045d":function(t,i,s){},"5e76":function(t,i,s){},"73b2":function(t,i,s){},"7f7f":function(t,i,s){var e=s("86cc").f,a=Function.prototype,c=/^\s*function ([^ (]*)/,o="name";o in a||s("9e1e")&&e(a,o,{configurable:!0,get:function(){try{return(""+this).match(c)[1]}catch(t){return""}}})},"9b0f":function(t,i,s){s("a29f"),s("f251"),s("589d"),s("9415"),s("5e76")},b919:function(t,i,s){"use strict";s.r(i);var e=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"shopDetail"},[s("div",{staticClass:"topImg"},[s("van-icon",{staticClass:"backIcon",attrs:{name:"arrow-left",size:"1.5rem",color:"#b1b1b1"},on:{click:function(i){return t.goBack(-1)}}}),s("van-image",{attrs:{width:"100vw",height:"60vh",fit:"contain",src:t.product.img},on:{click:function(i){return t.PreviewImg(t.product.img)}}})],1),s("div",{staticClass:"productDs"},[s("div",{staticClass:"proName"},[t._v(t._s(t.product.name))]),s("div",{staticClass:"proText"},[t._v(t._s(t.product.desc))]),s("div",{staticClass:"proPrice"},[s("div",{staticClass:"realPrice"},[t._v("￥"+t._s(t.isPriceChange?t.selectedPrice:t.product.price))]),t.isPriceChange?t._e():s("div",{staticClass:"MarkingPrice"},[s("del",[t._v("￥"+t._s(t.product.market_price))])])])]),t.product.hardWare?s("div",{staticClass:"hardware"},t._l(t.product.hardWare,function(i,e){return s("div",{key:e,staticClass:"item"},[s("img",{attrs:{src:i.img}}),s("div",{staticClass:"hardwareName"},[t._v(t._s(i.name))]),s("div",{staticClass:"hardwareDetail"},[t._v(t._s(i.detail))])])}),0):t._e(),s("div",{staticClass:"Options margin-top"},[s("div",{staticClass:"cell"},[s("div",{staticClass:"insideItem"},[s("div",{staticClass:"cellTitle"},[t._v("领劵")]),s("div",{staticClass:"cellContent"},[s("span",{staticClass:"tag textOverflow"},[t._v(t._s(t.product.name)+"专属 200元优惠券")])]),s("div",{staticClass:"cellIcon"},[s("van-icon",{attrs:{name:"arrow",size:"0.5rem",color:"black"}})],1)]),s("div",{staticClass:"insideItem"},[s("div",{staticClass:"cellTitle"},[t._v("促销")]),t._m(0),s("div",{staticClass:"cellIcon"},[s("van-icon",{attrs:{name:"arrow",size:"0.5rem",color:"black"}})],1)])]),s("div",{staticClass:"cell"},[s("div",{staticClass:"insideItem",on:{click:function(i){t.isOpenModal=!0}}},[s("div",{staticClass:"cellTitle"},[t._v("已选")]),s("div",{staticClass:"cellContent"},[s("span",{staticClass:"normalTag"},[t._v(t._s(t.selectedName)+"X"+t._s(t.skuNum))])]),s("div",{staticClass:"cellIcon"},[s("van-icon",{attrs:{name:"arrow",size:"0.5rem",color:"black"}})],1)])])]),s("to-top"),t.isOpenModal?s("div",{staticClass:"bgModal",style:{height:t.bgModalHeight+"px",width:t.bgModalWidth+"px"}}):t._e(),s("transition",{attrs:{"enter-active-class":"slideInUp","leave-active-class":"slideOutDown",appear:""}},[t.isOpenModal?s("div",{staticClass:"skuModal animated faster"},[s("div",{staticClass:"fixed",staticStyle:{"background-color":"white"}},[s("div",{staticClass:"topCtrl rightCenter"},[s("van-icon",{attrs:{name:"cross",size:"0.6rem",color:"black"},on:{click:function(i){t.isOpenModal=!1}}})],1),s("div",{staticClass:"skuDetail"},[s("div",{staticClass:"skuImg"},[s("van-image",{staticClass:"Skuimg",attrs:{fit:"contain",src:t.sku_img[0]},on:{click:function(i){return t.PreviewImg(t.sku_img[0])}}})],1),s("div",{staticClass:"choseSku"},[s("div",{staticClass:"choseSkuPrice"},[t._v("￥"+t._s(t.price)+"元")]),s("div",{staticClass:"choseSkuDetail"},[t._v(t._s(t.choseSkuName))])])])]),s("div",{staticClass:"srollContent"},[s("div",{staticClass:"SkuEdition"},[s("div",{staticClass:"Title"},[t._v("版本")]),t.product.options?t._l(t.product.options,function(i,e){return s("div",{key:e,staticClass:"editionCtrl optionLayout",class:{Active:t.activeIndex==e},on:{click:function(s){return t.selectedOption(e,i.list)}}},[s("div",{staticClass:"editionDetail"},[t._v(t._s(i.prop1_value))]),s("div",{staticClass:"editionPrice"},[t._v(t._s(i.price)+"元")])])}):t._e()],2),s("div",{staticClass:"SkuColor"},[s("div",{staticClass:"Title"},[t._v("颜色")]),t.product.options[t.activeIndex].list?t._l(t.product.options[t.activeIndex].list,function(i,e){return s("div",{key:e,staticClass:"ColorCtrl optionLayout",class:{Active:t.colorActive==e},on:{click:function(s){return t.selectedColor(i,e)}}},[t._v("\n                "+t._s(i.prop2_value)+"\n            ")])}):t._e()],2),s("div",{staticClass:"SkuNum"},[s("div",{staticClass:"title"},[t._v("购买数量")]),s("van-stepper",{attrs:{min:1,max:20,integer:""},on:{change:t.skuNumChange},model:{value:t.skuNum,callback:function(i){t.skuNum=i},expression:"skuNum"}})],1)]),s("div",{staticClass:"bottomCtrl",on:{click:t.selected}},[s("div",{staticClass:"btn-bottom"},[t._v("选择")])])]):t._e()]),s("div",{staticClass:"bottomNav"},[s("div",{staticClass:"leftNav"},[s("div",{staticClass:"leftItem",on:{click:t.goHome}},[s("van-icon",{attrs:{name:"home-o",size:"1.5rem",color:"rgba(0,0,0,.54)"}}),s("div",[t._v("主页")])],1),s("div",{staticClass:"leftItem"},[s("van-icon",{attrs:{name:"shopping-cart-o",size:"1.5rem",color:"rgba(0,0,0,.54)",info:t.shopNum},on:{click:t.toShopCar}}),s("div",[t._v("购物车")])],1)]),s("div",{staticClass:"rightNav"},[s("div",{staticClass:"addShop",on:{click:t.addShop}},[t._v("加入购物车")])])])],1)},a=[function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"cellContent"},[s("span",{staticClass:"normalTag"},[t._v("赠米粉卡，最高含100元话费")])])}],c=s("cebc"),o=(s("ac6a"),s("7f7f"),s("b970")),n=s("2b0e"),r=s("2f62"),l=s("7c15"),d=(s("4149"),s("598e"),s("1279"),s("e2ab"),s("1885"),s("9b0f"),s("b931"),s("c2d8"),s("83e6"));n["a"].use(o["t"]).use(o["u"]).use(o["i"]).use(o["g"]).use(o["f"]).use(o["h"]).use(o["q"]).use(o["A"]);var u={created:function(){var t=this;this.$store.commit("render/IsHome",!1);var i="pid="+this.$route.query.pid;this.$store.dispatch("productDetail/getProduct",i).then(function(){t.product.options&&(t.sku_id=t.product.options[t.activeIndex].list[t.colorActive].sku_id,t.sku_img=t.product.options[t.colorActive].list[t.colorActive].imgs,t.choseSkuName=t.product.options[t.activeIndex].list[t.colorActive].name,t.price=t.product.options[t.activeIndex].list[t.colorActive].price,t.product.options.forEach(function(i,s){i.list.forEach(function(i,s){i.sku_id===t.sku_id&&(t.selectedName=i.name)})}))})},data:function(){return{NowPid:0,previewUrl:"",isOpenModal:!1,isChosePrice:0,bgModalWidth:0,bgModalHeight:0,skuNum:1,activeIndex:0,colorActive:0,price:1499,sku_img:[],sku_id:0,isPriceChange:!1,choseSkuName:"",selectedName:"",selectedPrice:1499,flag:0}},mounted:function(){this.bgModalWidth=document.documentElement.getBoundingClientRect().width,this.bgModalHeight=document.documentElement.getBoundingClientRect().height,this.NowPid=this.$route.query.pid,this.isLogin&&this.$store.dispatch("userMs/getShopCart")},components:{toTop:d["a"]},computed:Object(c["a"])({},Object(r["b"])("productDetail",["product"]),Object(r["b"])("userMs",["ShopCartNum","isLogin"]),{shopNum:function(){return 0===this.ShopCartNum?"":this.ShopCartNum}}),methods:{goHome:function(){this.$router.push("/")},PreviewImg:function(t){this.previewUrl=t,Object(o["h"])([this.previewUrl])},goBack:function(t){this.$router.go(t)},selectedOption:function(t,i){this.colorActive=0,this.activeIndex=+t,this.sku_img=i[this.colorActive].imgs,this.price=i[this.colorActive].price,this.choseSkuName=i[this.colorActive].name},selectedColor:function(t,i){this.sku_img=t.imgs,this.colorActive=i,this.choseSkuName=t.name},selected:function(){var t=this;this.sku_id=this.product.options[this.activeIndex].list[this.colorActive].sku_id,this.isPriceChange=!0,this.product.options.forEach(function(i,s){i.list.forEach(function(i,s){i.sku_id===t.sku_id&&(t.selectedName=i.name,t.selectedPrice=i.price)})}),this.isOpenModal=!1},skuNumChange:function(){this.skuNum>20&&(o["A"].fail({mask:!0,message:"最大购买数量为20"}),this.skuNum=20),this.skuNum<1&&(o["A"].fail({mask:!0,message:"最小购买数量为1"}),this.skuNum=1)},addShop:function(){var t=this;if(0===this.flag)this.isOpenModal=!0;else if(this.isLogin)for(var i=1;i<=this.skuNum;i++)l["a"].post("/user/addCart",{sku_id:this.sku_id}).then(function(){o["A"].success("添加成功"),t.$store.dispatch("userMs/getShopCart")});else{var s;o["A"].fail({duration:500,message:"请先登录"});var e=this,a=setTimeout(function(){s=o["A"].loading({duration:0,forbidClick:!0,loadingType:"spinner",message:"正在跳转"}),clearTimeout(a),e.$router.push({name:"mine",params:{isOpenModal:!0,ToPid:t.NowPid}}),s.clear()},500)}this.flag++},toShopCar:function(){this.$router.push("/shopCar")}}},v=u,h=(s("eac0"),s("2877")),p=Object(h["a"])(v,e,a,!1,null,"c18821da",null);i["default"]=p.exports},b931:function(t,i,s){s("a29f"),s("045d")},c2d8:function(t,i,s){s("a29f"),s("f251"),s("73b2")},c75c:function(t,i,s){},eac0:function(t,i,s){"use strict";var e=s("c75c"),a=s.n(e);a.a},f251:function(t,i,s){}}]);
//# sourceMappingURL=chunk-376d59e4.387355d9.js.map