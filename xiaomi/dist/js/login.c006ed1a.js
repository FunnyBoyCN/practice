(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["login"],{"02f4":function(t,e,s){var r=s("4588"),a=s("be13");t.exports=function(t){return function(e,s){var i,o,n=String(a(e)),c=r(s),u=n.length;return c<0||c>=u?t?"":void 0:(i=n.charCodeAt(c),i<55296||i>56319||c+1===u||(o=n.charCodeAt(c+1))<56320||o>57343?t?n.charAt(c):i:t?n.slice(c,c+2):o-56320+(i-55296<<10)+65536)}}},"0390":function(t,e,s){"use strict";var r=s("02f4")(!0);t.exports=function(t,e,s){return e+(s?r(t,e).length:1)}},"0bfb":function(t,e,s){"use strict";var r=s("cb7c");t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},"146f":function(t,e,s){"use strict";s.r(e);var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("app-header"),s("div",{staticClass:"product"},[s("div",{staticClass:"container"},[s("div",{staticClass:"pro-view"},[s("div",{staticClass:"view-list"},[[s("img",{attrs:{src:t.sku_img}})]],2),t._m(0)]),s("div",{staticClass:"pro-info"},[s("h1",{staticClass:"pro-title"},[t._v(t._s(t.product.name))]),s("p",{staticClass:"pro-desc"},[t._v(t._s(t.product.desc))]),s("div",{staticClass:"pro-price"},[s("span",[s("label",{staticClass:"price"},[t._v(t._s(t.price))]),t._v("元")])]),s("div",{staticClass:"pro-choose"},[s("div",{staticClass:"choose1"},[s("p",{staticClass:"choose-title"},[t._v("选择"),s("span",{staticClass:"prop-name"},[t._v(t._s(t.product.prop1_name))])]),s("ul",{staticClass:"choose-list clearfix"},t._l(t.product.options,function(e,r){return s("li",{key:r,class:{active:t.activeIndex==r},on:{click:function(s){return t.changeActive(r,e.list)}}},[s("a",{attrs:{href:"javascript:;"}},[s("span",{staticClass:"list-name"},[t._v(t._s(e.prop1_value))]),s("span",{staticClass:"list-price"},[s("label",{staticClass:"price"},[t._v(t._s(e.price))]),t._v("元 ")])])])}),0)]),s("div",{staticClass:"choose2"},[s("p",{staticClass:"choose-title"},[t._v("选择"),s("span",{staticClass:"prop-name"},[t._v(t._s(t.product.prop2_name))])]),s("ul",{staticClass:"choose-list clearfix"},[t.product.options?t._l(t.product.options[t.activeIndex].list,function(e,r){return s("li",{key:r,ref:"sku",refInFor:!0,class:{active:t.colorActive==r},attrs:{"data-id":e.sku_id},on:{click:function(s){return t.commit(e,r)}}},[s("a",{attrs:{href:"javascript:;"}},[s("span",{staticClass:"list-name"},[t._v(t._s(e.prop2_value))])])])}):t._e()],2)])]),s("div",{staticClass:"pro-btn"},[s("a",{attrs:{href:"javascript:;",id:"addCart"},on:{click:function(e){return t.addShopCart()}}},[t._v("加入购物车")])])])])]),s("div")],1)},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"view-control"},[s("div",{staticClass:"control-lr"},[s("a",{staticClass:"control-prev",attrs:{href:"#"}},[t._v("上一张")]),s("a",{staticClass:"control-next",attrs:{href:"#"}},[t._v("下一张")])]),s("div",{staticClass:"control-page"})])}],i=(s("a481"),s("cebc")),o=(s("7f7f"),s("2f62")),n=s("1f79"),c=s("7c15"),u=s("2b0e"),l=s("5c96"),d={created:function(){var t=this;if(document.title=this.product.name,this.$store.dispatch("render/getIsHome",!1),this.$route.query.pid){var e="pid="+this.$route.query.pid;this.isPid=this.$route.query.pid,this.$store.dispatch("productDetail/getProduct",e).then(function(){t.product.options&&(t.sku_id=t.product.options[t.activeIndex].list[t.colorActive].sku_id,t.sku_img=t.product.options[t.activeIndex].list[t.colorActive].imgs[0],t.price=t.product.options[t.activeIndex].list[t.colorActive].price)})}},data:function(){return{activeIndex:0,colorActive:0,sku_img:[],sku_id:0,price:1499,isPid:0}},components:{appHeader:n["a"]},computed:Object(i["a"])({},Object(o["b"])("userMs",["isLogin"]),Object(o["b"])("render",["carousel"]),Object(o["b"])("productDetail",["product"])),methods:{changeActive:function(t,e){this.colorActive=0,this.activeIndex=+t,this.sku_img=e[this.colorActive].imgs[0],this.price=e[this.colorActive].price},commit:function(t,e){this.sku_id=t.sku_id,this.sku_img=t.imgs,this.colorActive=e},addShopCart:function(){for(var t=this,e=this.$refs.sku,s=0,r=0;r<e.length;r++)"active"===e[r].getAttribute("class")&&(s=e[r].getAttribute("data-id"));if(this.isLogin)c["a"].post("/user/addCart",{sku_id:s}).then(function(){u["default"].$message({type:"success",message:"添加成功"}),t.$store.dispatch("userMs/getShopCart").then(function(){})});else{var a=this;l["MessageBox"].confirm("是否前往登录","您尚未登录",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then(function(){a.$router.replace({path:"/login",query:{isPid:t.isPid}})}).catch(function(){})}}}},p=d,v=(s("3a70"),s("2877")),f=Object(v["a"])(p,r,a,!1,null,"a81d5d38",null);e["default"]=f.exports},"214f":function(t,e,s){"use strict";s("b0c5");var r=s("2aba"),a=s("32e9"),i=s("79e5"),o=s("be13"),n=s("2b4c"),c=s("520a"),u=n("species"),l=!i(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),d=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var s="ab".split(t);return 2===s.length&&"a"===s[0]&&"b"===s[1]}();t.exports=function(t,e,s){var p=n(t),v=!i(function(){var e={};return e[p]=function(){return 7},7!=""[t](e)}),f=v?!i(function(){var e=!1,s=/a/;return s.exec=function(){return e=!0,null},"split"===t&&(s.constructor={},s.constructor[u]=function(){return s}),s[p](""),!e}):void 0;if(!v||!f||"replace"===t&&!l||"split"===t&&!d){var h=/./[p],m=s(o,p,""[t],function(t,e,s,r,a){return e.exec===c?v&&!a?{done:!0,value:h.call(e,s,r)}:{done:!0,value:t.call(s,e,r)}:{done:!1}}),g=m[0],b=m[1];r(String.prototype,t,g),a(RegExp.prototype,p,2==e?function(t,e){return b.call(t,this,e)}:function(t){return b.call(t,this)})}}},"3a70":function(t,e,s){"use strict";var r=s("7464"),a=s.n(r);a.a},"51ff":function(t,e,s){"use strict";var r=s("7407"),a=s.n(r);a.a},"520a":function(t,e,s){"use strict";var r=s("0bfb"),a=RegExp.prototype.exec,i=String.prototype.replace,o=a,n="lastIndex",c=function(){var t=/a/,e=/b*/g;return a.call(t,"a"),a.call(e,"a"),0!==t[n]||0!==e[n]}(),u=void 0!==/()??/.exec("")[1],l=c||u;l&&(o=function(t){var e,s,o,l,d=this;return u&&(s=new RegExp("^"+d.source+"$(?!\\s)",r.call(d))),c&&(e=d[n]),o=a.call(d,t),c&&o&&(d[n]=d.global?o.index+o[0].length:e),u&&o&&o.length>1&&i.call(o[0],s,function(){for(l=1;l<arguments.length-2;l++)void 0===arguments[l]&&(o[l]=void 0)}),o}),t.exports=o},"5f1b":function(t,e,s){"use strict";var r=s("23c6"),a=RegExp.prototype.exec;t.exports=function(t,e){var s=t.exec;if("function"===typeof s){var i=s.call(t,e);if("object"!==typeof i)throw new TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==r(t))throw new TypeError("RegExp#exec called on incompatible receiver");return a.call(t,e)}},7407:function(t,e,s){},7464:function(t,e,s){},"7f7f":function(t,e,s){var r=s("86cc").f,a=Function.prototype,i=/^\s*function ([^ (]*)/,o="name";o in a||s("9e1e")&&r(a,o,{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(t){return""}}})},a481:function(t,e,s){"use strict";var r=s("cb7c"),a=s("4bf8"),i=s("9def"),o=s("4588"),n=s("0390"),c=s("5f1b"),u=Math.max,l=Math.min,d=Math.floor,p=/\$([$&`']|\d\d?|<[^>]*>)/g,v=/\$([$&`']|\d\d?)/g,f=function(t){return void 0===t?t:String(t)};s("214f")("replace",2,function(t,e,s,h){return[function(r,a){var i=t(this),o=void 0==r?void 0:r[e];return void 0!==o?o.call(r,i,a):s.call(String(i),r,a)},function(t,e){var a=h(s,t,this,e);if(a.done)return a.value;var d=r(t),p=String(this),v="function"===typeof e;v||(e=String(e));var g=d.global;if(g){var b=d.unicode;d.lastIndex=0}var _=[];while(1){var w=c(d,p);if(null===w)break;if(_.push(w),!g)break;var C=String(w[0]);""===C&&(d.lastIndex=n(p,i(d.lastIndex),b))}for(var x="",$=0,y=0;y<_.length;y++){w=_[y];for(var k=String(w[0]),A=u(l(o(w.index),p.length),0),E=[],P=1;P<w.length;P++)E.push(f(w[P]));var j=w.groups;if(v){var S=[k].concat(E,A,p);void 0!==j&&S.push(j);var q=String(e.apply(void 0,S))}else q=m(k,p,A,E,j,e);A>=$&&(x+=p.slice($,A)+q,$=A+k.length)}return x+p.slice($)}];function m(t,e,r,i,o,n){var c=r+t.length,u=i.length,l=v;return void 0!==o&&(o=a(o),l=p),s.call(n,l,function(s,a){var n;switch(a.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,r);case"'":return e.slice(c);case"<":n=o[a.slice(1,-1)];break;default:var l=+a;if(0===l)return s;if(l>u){var p=d(l/10);return 0===p?s:p<=u?void 0===i[p-1]?a.charAt(1):i[p-1]+a.charAt(1):s}n=i[l-1]}return void 0===n?"":n})}})},b0c5:function(t,e,s){"use strict";var r=s("520a");s("5ca1")({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},dd7b:function(t,e,s){"use strict";s.r(e);var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"logo",on:{click:t.toHome}},[t._m(0)]),s("div",{staticClass:"panel"},[s("div",{staticClass:"container"},[s("div",{staticClass:"panel-layout"},[s("div",{staticClass:"panel-tabs"},[s("a",{staticClass:"tabs-link",class:{select:t.isLoginEnter},attrs:{href:"javascript:void(0);","data-tab":"login"},on:{click:function(e){return t.loginAc(!0)}}},[t._v("账号登录")]),s("span",{staticClass:"line"}),s("a",{staticClass:"tabs-link",class:{select:!t.isLoginEnter},attrs:{href:"javascript:void(0);","data-tab":"register"},on:{click:function(e){return t.loginAc(!1)}}},[t._v("账号注册")])]),s("div",{staticClass:"panel-account"},[s("form",{attrs:{action:"javascript:;",method:"POST",id:"form"},on:{submit:function(e){return t.submit(t.isLoginEnter)}}},[s("label",{staticClass:"account-label"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.username,expression:"form.username"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"account-item",class:{errBorder:t.errors.has("name")},attrs:{autocomplete:"off",type:"text",placeholder:"账号",name:"name","data-vv-as":"用户名"},domProps:{value:t.form.username},on:{input:function(e){e.target.composing||t.$set(t.form,"username",e.target.value)}}})]),s("span",{staticClass:"error"},[t._v(t._s(t.errors.first("name")))]),s("label",{staticClass:"account-label"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password,expression:"form.password"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],ref:"password",staticClass:"account-item",class:{"is-danger":t.errors.has("password")},attrs:{type:"password",placeholder:"密码",autocomplete:"off",name:"password","data-vv-as":"密码"},domProps:{value:t.form.password},on:{input:function(e){e.target.composing||t.$set(t.form,"password",e.target.value)}}})]),s("span",{staticClass:"error"},[t._v(t._s(t.errors.first("password")))]),t.isLoginEnter?t._e():s("label",{staticClass:"account-label password2"},[s("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|confirmed:password",expression:"'required|confirmed:password'"},{name:"model",rawName:"v-model",value:t.form.repassword,expression:"form.repassword"}],staticClass:"account-item",class:{"is-danger":t.errors.has("repassword")},attrs:{label:"确认密码",placeholder:"请再次输入密码","data-vv-as":"确认密码","data-vv-name":"repassword"},domProps:{value:t.form.repassword},on:{input:function(e){e.target.composing||t.$set(t.form,"repassword",e.target.value)}}})]),s("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("repassword"),expression:"errors.has('repassword')"}],staticClass:"error"},[t._v(t._s(t.errors.first("repassword")))]),t.isLoginEnter?s("input",{staticClass:"btn",class:{dis:t.errors.has("password")||t.errors.has("name")},attrs:{type:"submit",disabled:!(!t.errors.has("password")&&!t.errors.has("name"))},domProps:{value:"登录"}}):t._e(),t.isLoginEnter?t._e():s("input",{staticClass:"btn",class:{dis:t.errors.has("password")||t.errors.has("name")||t.errors.has("repassword")},attrs:{type:"submit",disabled:!!(t.errors.has("password")||t.errors.has("name")||t.errors.has("repassword"))},domProps:{value:"注册"}})])])])])])])},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("a",{attrs:{href:"javascript:;"}})])}],i=(s("a481"),s("cebc")),o=s("2f62"),n=s("2b0e"),c={created:function(){this.$route.query.isPid&&(this.ifPid=!0)},data:function(){return{form:{username:"",password:"",repassword:"",ifPid:!1}}},watch:{},computed:Object(i["a"])({},Object(o["b"])("userMs",["isLoginEnter"])),methods:{toHome:function(){this.$router.replace("/")},loginAc:function(t){this.$store.dispatch("userMs/loginEnter",t)},submit:function(t){var e=this,s={name:"",password:""};s.name=this.form.username,s.password=this.form.password,t?this.$store.dispatch("userMs/login",s).then(function(t){n["default"].$message({type:"success",message:"登录成功"}),e.$store.dispatch("userMs/getShopCart"),e.ifPid?e.$router.replace({path:"/product",query:{pid:e.$route.query.isPid}}):e.$router.replace("/")}):this.$store.dispatch("userMs/register",s).then(function(){n["default"].$message({type:"success",message:"注册成功,跳转到首页"}),e.$store.dispatch("userMs/getShopCart"),e.ifPid?e.$router.replace({path:"/product",query:{pid:e.$route.query.isPid}}):e.$router.replace("/")})}}},u=c,l=(s("51ff"),s("2877")),d=Object(l["a"])(u,r,a,!1,null,"4b3dcf7c",null);e["default"]=d.exports}}]);
//# sourceMappingURL=login.c006ed1a.js.map